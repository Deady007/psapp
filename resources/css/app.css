@import "tailwindcss";
@import "./themes/glass.css";
@import "./themes/softui.css";
@import "./themes/terminalwm.css";
@import "./themes/quickx.css";
@import "./themes/custom.css";

@plugin "@tailwindcss/forms";
@source "../views/**/*.blade.php";
@source "../js/**/*.js";
@source "../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php";

:root,
body {
    --bg: #030504;
    --surface: rgba(0, 0, 0, 0.7);
    --surface-2: rgba(0, 0, 0, 0.55);
    --text: #d7ffe4;
    --muted: #9ae8c3;
    --border: rgba(0, 255, 117, 0.35);
    --shadow: 0 18px 50px rgba(0, 255, 117, 0.35);
    --radius: 1.5rem;
    --accent: #00ff75;
    --accent-2: #7cff9c;
    --focus: rgba(0, 255, 117, 0.5);
    --danger: #ff6b6b;
    --success: #2ee59d;
    --warning: #f6c453;
    --blur: 32px;
    --noise: none;
    --glow: 0 0 24px rgba(0, 255, 117, 0.35);

    --surface-3: color-mix(in srgb, var(--accent) 12%, var(--surface-2));
    --border-soft: color-mix(in srgb, var(--border) 65%, transparent);
    --shadow-soft: 0 14px 36px color-mix(in srgb, var(--accent) 22%, transparent);
    --shadow-elevated: 0 30px 60px color-mix(in srgb, var(--bg) 70%, transparent);
    --input-surface: color-mix(in srgb, var(--surface) 88%, transparent);
    --input-surface-strong: color-mix(in srgb, var(--surface) 94%, transparent);
    --input-surface-muted: color-mix(in srgb, var(--bg) 94%, transparent);
    --input-border: color-mix(in srgb, var(--border) 80%, transparent);
    --input-placeholder: color-mix(in srgb, var(--muted) 75%, transparent);
    --select-background: color-mix(in srgb, var(--surface) 92%, transparent);
    --select-dropdown: color-mix(in srgb, var(--bg) 90%, transparent);
    --select-highlight: color-mix(in srgb, var(--accent) 14%, transparent);
    --accent-contrast: color-mix(in srgb, var(--bg) 85%, var(--text));
}

@theme {
    --font-sans: "JetBrains Mono", "Share Tech Mono", monospace;
    --font-display: "JetBrains Mono", "Share Tech Mono", monospace;

    --animate-reveal: reveal 0.7s ease-out both;
    --animate-rise: rise 0.85s ease-out both;
    --animate-float: float 9s ease-in-out infinite;
    --animate-pan-slow: pan-slow 26s ease-in-out infinite;
    --animate-pulse-soft: pulse-soft 4s ease-in-out infinite;
    --animate-sheen: sheen 1.2s ease-out;
}

@layer base {
    html {
        scroll-behavior: smooth;
    }

    body {
        background-color: var(--bg);
        color: var(--text);
    }

    [x-cloak] {
        display: none !important;
    }

    input:-webkit-autofill,
    input:-webkit-autofill:hover,
    input:-webkit-autofill:focus,
    input:-webkit-autofill:active,
    textarea:-webkit-autofill,
    textarea:-webkit-autofill:hover,
    textarea:-webkit-autofill:focus,
    textarea:-webkit-autofill:active,
    select:-webkit-autofill,
    select:-webkit-autofill:hover,
    select:-webkit-autofill:focus,
    select:-webkit-autofill:active {
        -webkit-text-fill-color: var(--accent) !important;
        color: var(--accent) !important;
        caret-color: var(--accent) !important;
        box-shadow: 0 0 0 1000px var(--bg) inset !important;
        -webkit-box-shadow: 0 0 0 1000px var(--bg) inset !important;
        transition: background-color 9999s ease-in-out 0s;
    }

    input:-moz-autofill,
    textarea:-moz-autofill,
    select:-moz-autofill {
        box-shadow: 0 0 0 1000px var(--bg) inset !important;
        -moz-text-fill-color: var(--accent) !important;
        color: var(--accent) !important;
        caret-color: var(--accent) !important;
    }

    body.kanban-admin {
        font-family: var(--jarvis-font-mono);
        letter-spacing: 0.04em;
        color: #d7ffe4;
    }

    body.kanban-admin h1,
    body.kanban-admin h2,
    body.kanban-admin h3,
    body.kanban-admin h4,
    body.kanban-admin h5,
    body.kanban-admin h6 {
        font-family: var(--jarvis-font-display);
        letter-spacing: 0.08em;
    }

    body.kanban-admin::before,
    body.kanban-admin::after {
        content: none;
        display: none;
    }

    body.kanban-admin .content-wrapper,
    body.kanban-admin .content-header,
    body.kanban-admin .content {
        background-color: #f4f6f9;
    }
}

@layer components {
    .app-shell {
        position: relative;
        min-height: 100vh;
        isolation: isolate;
        overflow: hidden;
        background:
            radial-gradient(circle at 15% 15%, color-mix(in srgb, var(--accent) 18%, transparent) 0%, transparent 45%),
            radial-gradient(circle at 82% 8%, color-mix(in srgb, var(--accent-2) 12%, transparent) 0%, transparent 45%),
            radial-gradient(circle at 50% 85%, color-mix(in srgb, var(--accent) 12%, transparent) 0%, transparent 50%),
            linear-gradient(140deg, var(--bg) 0%, color-mix(in srgb, var(--bg) 80%, var(--surface)) 50%, var(--bg) 100%);
    }

    .app-shell::before {
        content: '';
        position: absolute;
        inset: -20%;
        background:
            radial-gradient(circle at 20% 20%, color-mix(in srgb, var(--accent) 28%, transparent), transparent 45%),
            radial-gradient(circle at 80% 30%, color-mix(in srgb, var(--accent-2) 22%, transparent), transparent 50%),
            radial-gradient(circle at 45% 80%, color-mix(in srgb, var(--accent-2) 18%, transparent), transparent 55%);
        filter: blur(var(--blur));
        opacity: 0.9;
        animation: pan-slow 26s ease-in-out infinite;
        pointer-events: none;
    }

    .app-shell::after {
        content: '';
        position: absolute;
        inset: 0;
        background-image: linear-gradient(color-mix(in srgb, var(--text) 12%, transparent) 1px, transparent 1px);
        background-size: 100% 3px;
        opacity: 0.3;
        mix-blend-mode: screen;
        pointer-events: none;
    }

    .app-shell > * {
        position: relative;
        z-index: 1;
    }

    .terminal-earth {
        position: fixed;
        top: 50%;
        right: -8vw;
        transform: translateY(-50%);
        pointer-events: none;
        opacity: 0.65;
        mix-blend-mode: screen;
        filter: drop-shadow(0 0 24px color-mix(in srgb, var(--accent) 25%, transparent));
        z-index: 0;
    }

    .soft-panel {
        @apply relative overflow-hidden backdrop-blur-xl;
        background-color: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        box-shadow: var(--shadow-elevated);
        color: var(--text);
    }

    .soft-panel::before {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, color-mix(in srgb, var(--accent) 22%, transparent), transparent 40%, color-mix(in srgb, var(--accent-2) 18%, transparent));
        opacity: 0.8;
        pointer-events: none;
    }

    .soft-panel > * {
        position: relative;
        z-index: 1;
    }

    .soft-card {
        @apply relative overflow-hidden backdrop-blur-2xl;
        background-color: var(--surface-2);
        border: 1px solid var(--border-soft);
        border-radius: var(--radius);
        box-shadow: var(--shadow-soft);
        color: var(--text);
    }

    .soft-card::before {
        content: '';
        position: absolute;
        inset: -35% 10% auto auto;
        width: 65%;
        aspect-ratio: 1 / 1;
        background: radial-gradient(circle, color-mix(in srgb, var(--accent) 28%, transparent), transparent 55%);
        filter: blur(30px);
        opacity: 0.9;
        pointer-events: none;
        animation: pulse-soft 6s ease-in-out infinite;
    }

    .soft-card::after {
        content: '';
        position: absolute;
        inset: auto auto -35% -10%;
        width: 70%;
        aspect-ratio: 1 / 1;
        background: radial-gradient(circle, color-mix(in srgb, var(--accent-2) 22%, transparent), transparent 55%);
        filter: blur(36px);
        opacity: 0.85;
        pointer-events: none;
    }

    .soft-card > * {
        position: relative;
        z-index: 1;
    }

    .soft-cta {
        @apply relative inline-flex items-center gap-2 px-5 py-2 text-sm font-semibold uppercase tracking-wide transition-all duration-300 ease-out hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2;
        background: linear-gradient(120deg, var(--accent), var(--accent-2));
        border: 1px solid var(--border);
        border-radius: calc(var(--radius) * 2);
        box-shadow: var(--glow);
        color: var(--accent-contrast);
        --tw-ring-color: var(--focus);
        --tw-ring-offset-color: transparent;
        --tw-ring-offset-width: 0px;
    }

    .soft-cta::after {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(120deg, transparent 0%, color-mix(in srgb, var(--accent-2) 35%, transparent) 45%, transparent 70%);
        transform: translateX(-120%);
        opacity: 0;
        transition: transform 0.6s ease-out, opacity 0.6s ease-out;
    }

    .soft-cta:hover::after {
        transform: translateX(120%);
        opacity: 0.85;
    }

    .soft-badge {
        @apply inline-flex items-center gap-2 px-3 py-1 text-xs font-semibold shadow-sm;
        background-color: var(--surface-3);
        border: 1px solid var(--border-soft);
        border-radius: calc(var(--radius) * 2);
        color: var(--text);
    }

    .kanban-input {
        @apply w-full px-3 py-2 text-xs transition focus:ring-1;
        background-color: var(--input-surface);
        border: 1px solid var(--input-border);
        border-radius: calc(var(--radius) - 0.25rem);
        color: var(--text);
        box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--accent) 8%, transparent);
        --tw-ring-color: var(--focus);
        --tw-ring-offset-width: 0px;
        --tw-ring-offset-color: transparent;
    }

    .kanban-input::placeholder {
        color: var(--input-placeholder);
    }

    .kanban-textarea {
        @apply w-full px-3 py-2 text-xs transition focus:ring-1;
        background-color: var(--input-surface);
        border: 1px solid var(--input-border);
        border-radius: calc(var(--radius) - 0.25rem);
        color: var(--text);
        --tw-ring-color: var(--focus);
        --tw-ring-offset-width: 0px;
        --tw-ring-offset-color: transparent;
    }

    .kanban-textarea::placeholder {
        color: var(--input-placeholder);
    }

    .kanban-select {
        @apply w-full px-3 py-2 text-xs transition focus:ring-1;
        background-color: var(--input-surface);
        border: 1px solid var(--input-border);
        border-radius: calc(var(--radius) - 0.25rem);
        color: var(--text);
        --tw-ring-color: var(--focus);
        --tw-ring-offset-width: 0px;
        --tw-ring-offset-color: transparent;
    }

    .kanban-chip {
        @apply inline-flex items-center gap-2 px-3 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.2em] transition;
        background-color: var(--surface-2);
        border: 1px solid var(--border-soft);
        border-radius: calc(var(--radius) * 2);
        color: var(--muted);
    }

    .kanban-chip-active {
        border-color: var(--border);
        background-color: var(--surface-3);
        color: var(--text);
        box-shadow: var(--glow);
    }

    .kanban-button {
        @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-xs font-semibold uppercase tracking-[0.2em] transition;
        background-color: var(--surface);
        border: 1px solid var(--border-soft);
        border-radius: calc(var(--radius) * 2);
        color: var(--text);
    }

    .kanban-button-primary {
        background-color: color-mix(in srgb, var(--accent) 18%, var(--surface-2));
        border-color: var(--border);
        color: var(--accent-contrast);
        box-shadow: var(--glow);
    }

    .kanban-button-ghost {
        background-color: color-mix(in srgb, var(--surface) 55%, transparent);
        border-color: transparent;
        color: var(--muted);
    }

    .soft-glow {
        box-shadow: var(--glow);
    }

    .float-slow {
        animation: float 9s ease-in-out infinite;
    }

    .choices__inner {
        border: 1px solid var(--input-border);
        min-height: 2.85rem;
        padding: 0.6rem 0.9rem;
        background: var(--select-background);
        border-radius: calc(var(--radius) - 0.25rem);
        color: var(--text);
        box-shadow: 0 10px 24px color-mix(in srgb, var(--bg) 55%, transparent);
    }

    .choices__list--single .choices__item {
        color: var(--text);
        font-weight: 600;
    }

    .choices__list--dropdown {
        background: var(--select-dropdown);
        border: 1px solid var(--border-soft);
        border-radius: calc(var(--radius) - 0.15rem);
        box-shadow: 0 18px 45px color-mix(in srgb, var(--bg) 70%, transparent);
        color: var(--text);
    }

    .choices__list--dropdown .choices__item--selectable.is-highlighted {
        background: var(--select-highlight);
    }

    .flatpickr-input {
        background-color: var(--input-surface-strong);
        cursor: pointer;
        border: 1px solid var(--input-border);
        border-radius: calc(var(--radius) - 0.25rem);
        color: var(--text);
        box-shadow: inset 0 1px 0 color-mix(in srgb, var(--bg) 40%, transparent);
    }

    :is(.soft-panel, .soft-card) .choices__inner,
    :is(.soft-panel, .soft-card) .flatpickr-input {
        background: var(--input-surface-strong);
        border-color: var(--border);
        box-shadow: var(--shadow-soft);
        color: var(--text);
    }

    :is(.soft-panel, .soft-card) .choices__list--dropdown {
        background: var(--input-surface-muted);
        border-color: var(--border-soft);
        box-shadow: 0 18px 45px color-mix(in srgb, var(--bg) 70%, transparent);
        color: var(--text);
    }

    :is(.soft-panel, .soft-card) .choices__list--single .choices__item,
    :is(.soft-panel, .soft-card) .choices__list--dropdown .choices__item--selectable {
        color: var(--text);
    }
}

@layer utilities {
    .reveal-delay-1 {
        animation-delay: 0.08s;
    }

    .reveal-delay-2 {
        animation-delay: 0.16s;
    }

    .reveal-delay-3 {
        animation-delay: 0.24s;
    }

    .reveal-delay-4 {
        animation-delay: 0.32s;
    }

    .reveal-delay-5 {
        animation-delay: 0.4s;
    }

    .line-clamp-2 {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;
    }
}

@media (max-width: 767.98px) {
    .terminal-earth {
        right: -20vw;
        opacity: 0.4;
    }
}

@media (prefers-reduced-motion: reduce) {
    .app-shell::before,
    .soft-card::before,
    .float-slow {
        animation: none;
    }

    .terminal-earth {
        opacity: 0.35;
        filter: none;
    }
}

@keyframes reveal {
    0% {
        opacity: 0;
        transform: translateY(12px) scale(0.98);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes rise {
    0% {
        opacity: 0;
        transform: translateY(18px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes float {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-8px);
    }
}

@keyframes pan-slow {
    0%, 100% {
        transform: translate3d(0, 0, 0) scale(1);
    }
    50% {
        transform: translate3d(3%, -2%, 0) scale(1.05);
    }
}

@keyframes pulse-soft {
    0%, 100% {
        opacity: 0.45;
    }
    50% {
        opacity: 0.8;
    }
}

@keyframes sheen {
    0% {
        transform: translateX(-120%);
        opacity: 0;
    }
    40% {
        opacity: 0.65;
    }
    100% {
        transform: translateX(120%);
        opacity: 0;
    }
}
